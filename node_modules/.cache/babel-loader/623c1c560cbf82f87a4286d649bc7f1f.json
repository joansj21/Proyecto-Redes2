{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL G5\\\\Desktop\\\\Proyecto Redes 2\\\\Proyecto\\\\src\\\\login\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useRef } from \"react\";\nimport Register from '../register/Register';\nimport MainWeb from '../mainWeb/MainWeb';\nimport './Login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login(props) {\n  _s();\n  const nameRef = useRef(null);\n  const passRef = useRef(null);\n  const [client, setClient] = useState({\n    \"user\": \"\",\n    \"password\": \"\",\n    \"name\": \"\",\n    \"type\": \"\"\n  });\n  const [register, setRegister] = useState({\n    \"register\": false,\n    \"message\": \"\"\n  });\n  const onSing = e => {\n    e.preventDefault();\n    props.setIndex({\n      \"index\": true\n    });\n  };\n  const onLogin = e => {\n    e.preventDefault();\n    let url = 'http://localhost:3001/login';\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        \"userName\": nameRef.current.value,\n        \"password\": passRef.current.value\n      })\n    };\n    fetch(url, requestOptions).then(async response => {\n      const data = await response.json();\n      if (data.ingreso === '1') {\n        setClient({\n          ...client,\n          \"user\": nameRef.current.value,\n          \"name\": data.name,\n          \"type\": data.type\n        });\n        setRegister({\n          ...register,\n          \"register\": false,\n          \"message\": \"\"\n        });\n        return data;\n      } else {\n        setRegister({\n          ...register,\n          \"register\": false,\n          \"message\": \"Credenciales no coinciden\"\n        });\n      }\n      const errorData = await response.json();\n      return Promise.reject(errorData);\n    });\n  };\n  const onRegister = e => {\n    e.preventDefault();\n    setRegister({\n      \"register\": true,\n      \"message\": \"\"\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Pagina AntiAtaques\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this), !client.user && !register.register && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Ingresar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"field-group-login\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"Usuario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: nameRef,\n          type: \"text\",\n          name: \"name\",\n          id: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"pass\",\n          children: \"Contrase\\xF1a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: passRef,\n          type: \"text\",\n          name: \"pass\",\n          id: \"pass\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"main-btn\",\n        onClick: e => onLogin(e),\n        children: \"Entrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"main-btn\",\n        onClick: e => onRegister(e),\n        children: \"Crear cuenta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"session\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"session-btn\",\n          onClick: e => onBlock(e),\n          children: \"Bloquearme\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 30\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }, this), register.register && /*#__PURE__*/_jsxDEV(Register, {\n      register: register,\n      setRegister: setRegister\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 21\n    }, this), register.message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-lbl\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: register.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 22\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 21\n    }, this), client.user && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(MainWeb, {\n        user: client,\n        setUser: setClient\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 27\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"atqVihaGwgaGiA3J1D82dIFuoIo=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useRef","Register","MainWeb","Login","props","nameRef","passRef","client","setClient","register","setRegister","onSing","e","preventDefault","setIndex","onLogin","url","requestOptions","method","headers","body","JSON","stringify","current","value","fetch","then","response","data","json","ingreso","name","type","errorData","Promise","reject","onRegister","user","onBlock","message"],"sources":["C:/Users/DELL G5/Desktop/Proyecto Redes 2/Proyecto/src/login/Login.jsx"],"sourcesContent":["import { useState, useRef } from \"react\";\r\nimport Register from '../register/Register';\r\nimport MainWeb from '../mainWeb/MainWeb';\r\nimport './Login.css';\r\n\r\n\r\nfunction Login(props) {\r\n   \r\n    const nameRef = useRef(null);\r\n    const passRef = useRef(null);\r\n    \r\n    const [client, setClient] = useState({\r\n        \"user\": \"\",\r\n        \"password\": \"\",\r\n        \"name\":\"\",\r\n        \"type\":\"\"\r\n       \r\n    });\r\n\r\n    const [register, setRegister] = useState({\r\n        \"register\": false,\r\n        \"message\": \"\",\r\n       \r\n    });\r\n\r\n    const onSing = (e) => {\r\n        e.preventDefault();\r\n        \r\n        props.setIndex(\r\n            {\r\n\r\n                \"index\": true,\r\n            }\r\n        )\r\n    }\r\n    \r\n\r\n      const onLogin = (e) => {\r\n        e.preventDefault();\r\n        \r\n\r\n\r\n\r\n        let url = 'http://localhost:3001/login'\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                \"userName\":nameRef.current.value,\r\n                \"password\":passRef.current.value\r\n            })\r\n        };\r\n        fetch(url, requestOptions)\r\n            .then(async response => {\r\n                const data = await response.json();\r\n\r\n                \r\n\r\n                if (data.ingreso==='1') {\r\n                    \r\n                    setClient({\r\n\r\n                        ...client,\r\n                        \"user\":nameRef.current.value,\r\n                        \"name\":data.name,\r\n                        \"type\":data.type\r\n\r\n\r\n                    })\r\n\r\n                    setRegister({\r\n                        ...register,\r\n                        \"register\": false,\r\n                        \"message\": \"\",\r\n                    })\r\n                   \r\n                    return data;\r\n                    \r\n                }else{\r\n                    \r\n                    setRegister({\r\n                        ...register,\r\n                        \"register\": false,\r\n                        \"message\": \"Credenciales no coinciden\",\r\n                    })\r\n                }\r\n                const errorData = await response.json();\r\n                return Promise.reject(errorData);\r\n            }\r\n            \r\n            )\r\n\r\n            \r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    const onRegister = (e) => {\r\n        e.preventDefault();\r\n\r\n        setRegister({\r\n            \"register\": true,\r\n            \"message\": \"\",\r\n     \r\n        });\r\n        \r\n \r\n\r\n    }\r\n    \r\n\r\n    \r\n    \r\n\r\n    return (\r\n        <div>\r\n            <h3>Pagina AntiAtaques</h3>\r\n\r\n            {!client.user && !register.register &&\r\n                \r\n                <div className=\"login-main\">\r\n                    <h3>Ingresar</h3>\r\n                        <div className=\"field-group-login\">\r\n                            <label htmlFor=\"name\">Usuario</label>\r\n                            <input ref={nameRef} type=\"text\" name=\"name\" id=\"name\"/>\r\n\r\n                            <label htmlFor=\"pass\">Contrase√±a</label>\r\n                             <input ref={passRef} type=\"text\" name=\"pass\" id=\"pass\"/>\r\n\r\n \r\n                      \r\n                         </div>\r\n                        <button className=\"main-btn\" onClick={e => onLogin(e)}>Entrar</button>\r\n\r\n                        <button className=\"main-btn\" onClick={e => onRegister(e)}>Crear cuenta</button>\r\n\r\n                        <div className=\"session\">\r\n                             < button className=\"session-btn\" onClick={e => onBlock(e)} >Bloquearme</button>\r\n                        </div>\r\n\r\n\r\n                        \r\n\r\n\r\n\r\n                </div>\r\n\r\n                \r\n                \r\n                    \r\n                   \r\n\r\n               \r\n\r\n                \r\n                }\r\n\r\n               \r\n                {register.register &&\r\n                \r\n                    <Register register={register} setRegister={setRegister}></Register>\r\n                    \r\n               \r\n                 }\r\n\r\n                {register.message &&\r\n                    <div className=\"error-lbl\">\r\n                     <p>{register.message}</p>\r\n                     </div>}\r\n\r\n\r\n                \r\n\r\n                     {client.user &&\r\n                          <div>\r\n                            \r\n                        <MainWeb user={client} setUser={setClient}></MainWeb>\r\n                    \r\n                          </div>\r\n                      }\r\n\r\n           \r\n\r\n                </div>\r\n    )\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}