{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL G5\\\\Desktop\\\\Proyecto Redes 2\\\\Proyecto\\\\src\\\\login\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useRef } from \"react\";\nimport Register from '../register/Register';\nimport MainWeb from '../mainWeb/MainWeb';\nimport './Login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const nameRef = useRef(null);\n  const passRef = useRef(null);\n  const [client, setClient] = useState({\n    \"user\": \"\",\n    \"password\": \"\",\n    \"name\": \"\",\n    \"type\": \"\"\n  });\n  const [register, setRegister] = useState({\n    \"register\": false,\n    \"message\": \"\"\n  });\n  const onLogin = e => {\n    e.preventDefault();\n    let url = 'https://g5ab0d028fce44a-proyecto.adb.us-phoenix-1.oraclecloudapps.com/ords/proyecto/proyecto/login/';\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        \"userName\": nameRef.current.value,\n        \"password\": passRef.current.value\n      })\n    };\n    fetch(url, requestOptions).then(async response => {\n      const data = await response.json();\n      if (data.ingreso === '1') {\n        setClient({\n          ...client,\n          \"user\": nameRef.current.value,\n          \"name\": data.name,\n          \"type\": data.type\n        });\n        setRegister({\n          ...register,\n          \"register\": false,\n          \"message\": \"\"\n        });\n        return data;\n      } else {\n        setRegister({\n          ...register,\n          \"register\": false,\n          \"message\": \"Credenciales no coinciden\"\n        });\n      }\n      const errorData = await response.json();\n      return Promise.reject(errorData);\n    });\n  };\n  const onRegister = e => {\n    e.preventDefault();\n    setRegister({\n      \"register\": true,\n      \"message\": \"\"\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Pagina AntiAtaques\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this), !client.user && !register.register && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Ingresar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"field-group-login\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"Usuario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: nameRef,\n          type: \"text\",\n          name: \"name\",\n          id: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"pass\",\n          children: \"Contrase\\xF1a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: passRef,\n          type: \"text\",\n          name: \"pass\",\n          id: \"pass\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"main-btn\",\n        onClick: e => onLogin(e),\n        children: \"Entrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"main-btn\",\n        onClick: e => onRegister(e),\n        children: \"Crear cuenta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }, this), register.register && /*#__PURE__*/_jsxDEV(Register, {\n      register: client,\n      setRegister: setClient\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 21\n    }, this), register.message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-lbl\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: register.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 22\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }, this), client.user && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Register, {\n        user: register,\n        setUser: setRegister\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 27\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"atqVihaGwgaGiA3J1D82dIFuoIo=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useRef","Register","MainWeb","Login","nameRef","passRef","client","setClient","register","setRegister","onLogin","e","preventDefault","url","requestOptions","method","headers","body","JSON","stringify","current","value","fetch","then","response","data","json","ingreso","name","type","errorData","Promise","reject","onRegister","user","message"],"sources":["C:/Users/DELL G5/Desktop/Proyecto Redes 2/Proyecto/src/login/Login.jsx"],"sourcesContent":["import { useState, useRef } from \"react\";\r\nimport Register from '../register/Register';\r\nimport MainWeb from '../mainWeb/MainWeb';\r\nimport './Login.css';\r\n\r\n\r\nfunction Login() {\r\n   \r\n    const nameRef = useRef(null);\r\n    const passRef = useRef(null);\r\n    \r\n    const [client, setClient] = useState({\r\n        \"user\": \"\",\r\n        \"password\": \"\",\r\n        \"name\":\"\",\r\n        \"type\":\"\"\r\n       \r\n    });\r\n\r\n    const [register, setRegister] = useState({\r\n        \"register\": false,\r\n        \"message\": \"\",\r\n       \r\n    });\r\n    \r\n\r\n      const onLogin = (e) => {\r\n        e.preventDefault();\r\n        \r\n\r\n\r\n\r\n        let url = 'https://g5ab0d028fce44a-proyecto.adb.us-phoenix-1.oraclecloudapps.com/ords/proyecto/proyecto/login/'\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                \"userName\":nameRef.current.value,\r\n                \"password\":passRef.current.value\r\n            })\r\n        };\r\n        fetch(url, requestOptions)\r\n            .then(async response => {\r\n                const data = await response.json();\r\n\r\n                \r\n\r\n                if (data.ingreso==='1') {\r\n                    \r\n                    setClient({\r\n\r\n                        ...client,\r\n                        \"user\":nameRef.current.value,\r\n                        \"name\":data.name,\r\n                        \"type\":data.type\r\n\r\n\r\n                    })\r\n\r\n                    setRegister({\r\n                        ...register,\r\n                        \"register\": false,\r\n                        \"message\": \"\",\r\n                    })\r\n                   \r\n                    return data;\r\n                    \r\n                }else{\r\n                    \r\n                    setRegister({\r\n                        ...register,\r\n                        \"register\": false,\r\n                        \"message\": \"Credenciales no coinciden\",\r\n                    })\r\n                }\r\n                const errorData = await response.json();\r\n                return Promise.reject(errorData);\r\n            }\r\n            \r\n            )\r\n\r\n            \r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    const onRegister = (e) => {\r\n        e.preventDefault();\r\n\r\n        setRegister({\r\n            \"register\": true,\r\n            \"message\": \"\",\r\n     \r\n        });\r\n        \r\n \r\n\r\n    }\r\n    \r\n\r\n    \r\n    \r\n\r\n    return (\r\n        <div>\r\n            <h3>Pagina AntiAtaques</h3>\r\n\r\n            {!client.user && !register.register &&\r\n                \r\n                <div className=\"login-main\">\r\n                    <h3>Ingresar</h3>\r\n                        <div className=\"field-group-login\">\r\n                            <label htmlFor=\"name\">Usuario</label>\r\n                            <input ref={nameRef} type=\"text\" name=\"name\" id=\"name\"/>\r\n\r\n                            <label htmlFor=\"pass\">ContraseÃ±a</label>\r\n                             <input ref={passRef} type=\"text\" name=\"pass\" id=\"pass\"/>\r\n\r\n \r\n                      \r\n                         </div>\r\n                        <button className=\"main-btn\" onClick={e => onLogin(e)}>Entrar</button>\r\n\r\n                        <button className=\"main-btn\" onClick={e => onRegister(e)}>Crear cuenta</button>\r\n\r\n                        <div className=\"\">\r\n                    \r\n                        </div>\r\n\r\n\r\n                </div>\r\n\r\n                \r\n                \r\n                    \r\n                   \r\n\r\n               \r\n\r\n                \r\n                }\r\n\r\n               \r\n                {register.register &&\r\n                \r\n                    <Register register={client} setRegister={setClient}></Register>\r\n                    \r\n               \r\n                 }\r\n\r\n                {register.message &&\r\n                    <div className=\"error-lbl\">\r\n                     <p>{register.message}</p>\r\n                     </div>}\r\n\r\n\r\n                \r\n\r\n                     {client.user &&\r\n                          <div>\r\n                            \r\n                        <Register user={register} setUser={setRegister}></Register>\r\n                    \r\n                          </div>\r\n                      }\r\n\r\n           \r\n\r\n                </div>\r\n    )\r\n}\r\n\r\nexport default Login;"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AACxC,OAAOC,QAAQ,MAAM,sBAAsB;AAC3C,OAAOC,OAAO,MAAM,oBAAoB;AACxC,OAAO,aAAa;AAAC;AAGrB,SAASC,KAAK,GAAG;EAAA;EAEb,MAAMC,OAAO,GAAGJ,MAAM,CAAC,IAAI,CAAC;EAC5B,MAAMK,OAAO,GAAGL,MAAM,CAAC,IAAI,CAAC;EAE5B,MAAM,CAACM,MAAM,EAAEC,SAAS,CAAC,GAAGR,QAAQ,CAAC;IACjC,MAAM,EAAE,EAAE;IACV,UAAU,EAAE,EAAE;IACd,MAAM,EAAC,EAAE;IACT,MAAM,EAAC;EAEX,CAAC,CAAC;EAEF,MAAM,CAACS,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC;IACrC,UAAU,EAAE,KAAK;IACjB,SAAS,EAAE;EAEf,CAAC,CAAC;EAGA,MAAMW,OAAO,GAAIC,CAAC,IAAK;IACrBA,CAAC,CAACC,cAAc,EAAE;IAKlB,IAAIC,GAAG,GAAG,qGAAqG;IAC/G,MAAMC,cAAc,GAAG;MACnBC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAC,cAAc,EAAE;MAAmB,CAAC;MAC9CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACjB,UAAU,EAACf,OAAO,CAACgB,OAAO,CAACC,KAAK;QAChC,UAAU,EAAChB,OAAO,CAACe,OAAO,CAACC;MAC/B,CAAC;IACL,CAAC;IACDC,KAAK,CAACT,GAAG,EAAEC,cAAc,CAAC,CACrBS,IAAI,CAAC,MAAMC,QAAQ,IAAI;MACpB,MAAMC,IAAI,GAAG,MAAMD,QAAQ,CAACE,IAAI,EAAE;MAIlC,IAAID,IAAI,CAACE,OAAO,KAAG,GAAG,EAAE;QAEpBpB,SAAS,CAAC;UAEN,GAAGD,MAAM;UACT,MAAM,EAACF,OAAO,CAACgB,OAAO,CAACC,KAAK;UAC5B,MAAM,EAACI,IAAI,CAACG,IAAI;UAChB,MAAM,EAACH,IAAI,CAACI;QAGhB,CAAC,CAAC;QAEFpB,WAAW,CAAC;UACR,GAAGD,QAAQ;UACX,UAAU,EAAE,KAAK;UACjB,SAAS,EAAE;QACf,CAAC,CAAC;QAEF,OAAOiB,IAAI;MAEf,CAAC,MAAI;QAEDhB,WAAW,CAAC;UACR,GAAGD,QAAQ;UACX,UAAU,EAAE,KAAK;UACjB,SAAS,EAAE;QACf,CAAC,CAAC;MACN;MACA,MAAMsB,SAAS,GAAG,MAAMN,QAAQ,CAACE,IAAI,EAAE;MACvC,OAAOK,OAAO,CAACC,MAAM,CAACF,SAAS,CAAC;IACpC,CAAC,CAEA;EAQT,CAAC;EAED,MAAMG,UAAU,GAAItB,CAAC,IAAK;IACtBA,CAAC,CAACC,cAAc,EAAE;IAElBH,WAAW,CAAC;MACR,UAAU,EAAE,IAAI;MAChB,SAAS,EAAE;IAEf,CAAC,CAAC;EAIN,CAAC;EAMD,oBACI;IAAA,wBACI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAA2B,EAE1B,CAACH,MAAM,CAAC4B,IAAI,IAAI,CAAC1B,QAAQ,CAACA,QAAQ,iBAE/B;MAAK,SAAS,EAAC,YAAY;MAAA,wBACvB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAiB,eACb;QAAK,SAAS,EAAC,mBAAmB;QAAA,wBAC9B;UAAO,OAAO,EAAC,MAAM;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAgB,eACrC;UAAO,GAAG,EAAEJ,OAAQ;UAAC,IAAI,EAAC,MAAM;UAAC,IAAI,EAAC,MAAM;UAAC,EAAE,EAAC;QAAM;UAAA;UAAA;UAAA;QAAA,QAAE,eAExD;UAAO,OAAO,EAAC,MAAM;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAmB,eACvC;UAAO,GAAG,EAAEC,OAAQ;UAAC,IAAI,EAAC,MAAM;UAAC,IAAI,EAAC,MAAM;UAAC,EAAE,EAAC;QAAM;UAAA;UAAA;UAAA;QAAA,QAAE;MAAA;QAAA;QAAA;QAAA;MAAA,QAItD,eACP;QAAQ,SAAS,EAAC,UAAU;QAAC,OAAO,EAAEM,CAAC,IAAID,OAAO,CAACC,CAAC,CAAE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAgB,eAEtE;QAAQ,SAAS,EAAC,UAAU;QAAC,OAAO,EAAEA,CAAC,IAAIsB,UAAU,CAACtB,CAAC,CAAE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAsB,eAE/E;QAAK,SAAS,EAAC;MAAE;QAAA;QAAA;QAAA;MAAA,QAEX;IAAA;MAAA;MAAA;MAAA;IAAA,QAGR,EAaLH,QAAQ,CAACA,QAAQ,iBAEd,QAAC,QAAQ;MAAC,QAAQ,EAAEF,MAAO;MAAC,WAAW,EAAEC;IAAU;MAAA;MAAA;MAAA;IAAA,QAAY,EAKlEC,QAAQ,CAAC2B,OAAO,iBACb;MAAK,SAAS,EAAC,WAAW;MAAA,uBACzB;QAAA,UAAI3B,QAAQ,CAAC2B;MAAO;QAAA;QAAA;QAAA;MAAA;IAAK;MAAA;MAAA;MAAA;IAAA,QACnB,EAKL7B,MAAM,CAAC4B,IAAI,iBACP;MAAA,uBAEF,QAAC,QAAQ;QAAC,IAAI,EAAE1B,QAAS;QAAC,OAAO,EAAEC;MAAY;QAAA;QAAA;QAAA;MAAA;IAAY;MAAA;MAAA;MAAA;IAAA,QAEnD;EAAA;IAAA;IAAA;IAAA;EAAA,QAKV;AAEtB;AAAC,GAvKQN,KAAK;AAAA,KAALA,KAAK;AAyKd,eAAeA,KAAK;AAAC;AAAA"},"metadata":{},"sourceType":"module"}