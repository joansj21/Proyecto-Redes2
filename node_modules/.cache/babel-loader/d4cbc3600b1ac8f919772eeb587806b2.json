{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL G5\\\\Desktop\\\\Proyecto Redes 2\\\\Proyecto\\\\src\\\\login\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useRef } from \"react\";\nimport PlayGame from \"../PlayGame/PlayGame\";\nimport './Login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const SERVER_PROFE = \"vacunados.meseguercr.com\";\n  const nameRef = useRef(null);\n  const serverRef = useRef(null);\n  const protocolRef = useRef(null);\n  const [player, setPlayer] = useState({\n    \"name\": \"\",\n    \"gameId\": \"\",\n    \"password\": \"\",\n    \"server\": \"\",\n    \"protocol\": \"\",\n    \"disableturn\": [false, false, false, false, false]\n  });\n  const savePlayer = player => {\n    let local = localStorage.getItem('players');\n    if (!local) {\n      local = {};\n    } else {\n      local = JSON.parse(local);\n    }\n    ;\n    local[player.name] = player;\n    localStorage.setItem('players', JSON.stringify(local));\n    setPlayer(player);\n  };\n  const onLogin = e => {\n    e.preventDefault();\n    let local = localStorage.getItem('players');\n    let playerCopy = {\n      ...player\n    };\n    if (local) {\n      local = JSON.parse(local);\n      if (local[nameRef.current.value]) {\n        playerCopy = local[nameRef.current.value];\n        // si hubo cambio de server quite el juego actual\n        if (playerCopy.server !== serverRef.current.value) {\n          playerCopy.gameId = \"\";\n          playerCopy.password = \"\";\n          playerCopy.disableturn = [false, false, false, false, false];\n        }\n      }\n    }\n    savePlayer({\n      ...playerCopy,\n      \"name\": nameRef.current.value,\n      \"server\": serverRef.current.value,\n      \"protocol\": protocolRef.current.value\n    });\n  };\n  const onLogout = e => {\n    e.preventDefault();\n    setPlayer({\n      \"name\": \"\",\n      \"gameId\": \"\",\n      \"password\": \"\",\n      \"server\": \"\",\n      \"protocol\": \"\",\n      \"disableturn\": [false, false, false, false, false]\n    });\n  };\n  const getUrl = () => player.protocol + '://' + player.server;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"VacunaDOS\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), !player.name && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Ingresar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"field-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"Usuario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: nameRef,\n          type: \"text\",\n          name: \"name\",\n          id: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spacer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"protocolo\",\n          children: \"Protocolo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          ref: protocolRef,\n          name: \"protocolo\",\n          id: \"protocolo\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"http\",\n            children: \"HTTP\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"https\",\n            children: \"HTTPS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spacer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"server\",\n          children: \"Server\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: serverRef,\n          type: \"text\",\n          name: \"server\",\n          id: \"server\",\n          defaultValue: SERVER_PROFE\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"main-btn\",\n        onClick: e => onLogin(e),\n        children: \"Entrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }, this), player.name && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"session\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"session-lbl\",\n        children: [\"Usted ha ingresado como, \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: player.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 76\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"session-btn\",\n        onClick: e => onLogout(e),\n        children: \"Salir\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }, this), player.name && !player.gameId && /*#__PURE__*/_jsxDEV(GameJoin, {\n      player: player,\n      setPlayer: savePlayer,\n      getUrl: getUrl\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }, this), player.name && player.gameId && /*#__PURE__*/_jsxDEV(PlayGame, {\n      player: player,\n      setPlayer: savePlayer,\n      getUrl: getUrl\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"6kh1TSHsU9X0GwLbOfLVK0YBkNk=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useRef","PlayGame","Login","SERVER_PROFE","nameRef","serverRef","protocolRef","player","setPlayer","savePlayer","local","localStorage","getItem","JSON","parse","name","setItem","stringify","onLogin","e","preventDefault","playerCopy","current","value","server","gameId","password","disableturn","onLogout","getUrl","protocol"],"sources":["C:/Users/DELL G5/Desktop/Proyecto Redes 2/Proyecto/src/login/Login.jsx"],"sourcesContent":["import { useState, useRef } from \"react\";\r\nimport PlayGame from \"../PlayGame/PlayGame\";\r\nimport './Login.css';\r\n\r\n\r\nfunction Login() {\r\n    const SERVER_PROFE = \"vacunados.meseguercr.com\";\r\n    const nameRef = useRef(null);\r\n    const serverRef = useRef(null);\r\n    const protocolRef = useRef(null);\r\n\r\n    const [player, setPlayer] = useState({\r\n        \"name\": \"\",\r\n        \"gameId\": \"\",\r\n        \"password\": \"\",\r\n        \"server\": \"\",\r\n        \"protocol\": \"\",\r\n        \"disableturn\": [false, false, false, false, false],\r\n    });\r\n\r\n\r\n\r\n    \r\n\r\n    const savePlayer = (player) => {\r\n        let local = localStorage.getItem('players');\r\n        if (!local) {\r\n            local = {}\r\n        } else {\r\n            local = JSON.parse(local);\r\n        };\r\n        local[player.name] = player;\r\n        localStorage.setItem('players', JSON.stringify(local));\r\n        setPlayer(player);\r\n    }\r\n\r\n    const onLogin = (e) => {\r\n        e.preventDefault();\r\n        let local = localStorage.getItem('players');\r\n        let playerCopy = {\r\n            ...player\r\n        }\r\n        if (local) {\r\n            local = JSON.parse(local);\r\n            if (local[nameRef.current.value]) {\r\n                playerCopy = local[nameRef.current.value];\r\n                // si hubo cambio de server quite el juego actual\r\n                if (playerCopy.server !== serverRef.current.value) {\r\n                    playerCopy.gameId = \"\";\r\n                    playerCopy.password = \"\";\r\n                    playerCopy.disableturn = [false, false, false, false, false];\r\n                } \r\n            }\r\n        }\r\n        savePlayer({\r\n            ...playerCopy,\r\n            \"name\": nameRef.current.value,\r\n            \"server\": serverRef.current.value,\r\n            \"protocol\": protocolRef.current.value,\r\n        })\r\n    }\r\n\r\n    const onLogout = (e) => {\r\n        e.preventDefault();\r\n        setPlayer({\r\n            \"name\": \"\",\r\n            \"gameId\": \"\",\r\n            \"password\": \"\",\r\n            \"server\": \"\",\r\n            \"protocol\": \"\",\r\n            \"disableturn\": [false, false, false, false, false],\r\n        });\r\n    }\r\n\r\n    const getUrl = () => player.protocol+'://'+player.server;\r\n\r\n    return (\r\n        <div>\r\n            <h1>VacunaDOS</h1>\r\n\r\n            {!player.name &&\r\n                <div className=\"login-main\">\r\n                    <h3>Ingresar</h3>\r\n                    <div className=\"field-group\">\r\n                        <label htmlFor=\"name\">Usuario</label>\r\n                        <input ref={nameRef} type=\"text\" name=\"name\" id=\"name\"/>\r\n                        <div className=\"spacer\"></div>\r\n                        <label htmlFor=\"protocolo\">Protocolo</label>\r\n                        <select ref={protocolRef} name=\"protocolo\" id=\"protocolo\">\r\n                            <option value=\"http\">HTTP</option>\r\n                            <option value=\"https\">HTTPS</option>\r\n                        </select>\r\n                        <div className=\"spacer\"></div>\r\n                        <label htmlFor=\"server\">Server</label>\r\n                        <input ref={serverRef} type=\"text\" name=\"server\" id=\"server\" defaultValue={SERVER_PROFE}/>\r\n                    </div>\r\n                    <button className=\"main-btn\" onClick={e => onLogin(e)}>Entrar</button>\r\n                </div>}\r\n\r\n            {player.name &&\r\n                <div className=\"session\">\r\n                    <span className=\"session-lbl\">Usted ha ingresado como, <b>{player.name}</b></span>\r\n                    <button className=\"session-btn\" onClick={e => onLogout(e)}>Salir</button>\r\n                </div>\r\n            }\r\n\r\n            {(player.name && !player.gameId) &&\r\n                <GameJoin player={player} setPlayer={savePlayer} getUrl={getUrl} />\r\n            }\r\n\r\n            {player.name && player.gameId &&\r\n                <PlayGame player={player} setPlayer={savePlayer} getUrl={getUrl} />\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}